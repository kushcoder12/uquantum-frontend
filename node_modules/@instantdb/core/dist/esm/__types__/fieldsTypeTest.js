import { i, init } from "../index.js";
// These tests just check types. See `type _cases = ` for the test cases.
const schema = i.schema({
    entities: {
        tbl: i.entity({
            a: i.number(),
            b: i.string(),
        }),
    },
});
// Test that fields works with a schema
function _testFieldsWithSchema() {
    const schemaDb = init({
        schema: schema,
        appId: '123',
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: ['a'] } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: ['id', 'a'] } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: { $: { fields: undefined } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    schemaDb.subscribeQuery({ tbl: {} }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
}
// Test that fields does nothing when there is no schema
function _testFieldsNoSchema() {
    const noSchemaDb = init({
        appId: '123',
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: ['a'] } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: ['id', 'a'] } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: { $: { fields: undefined } } }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
    noSchemaDb.subscribeQuery({ tbl: {} }, (resp) => {
        var _a;
        const item = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.tbl[0];
        if (item) {
        }
    });
}
//# sourceMappingURL=fieldsTypeTest.js.map