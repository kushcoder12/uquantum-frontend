{"version":3,"file":"InMemoryStorage.js","sourceRoot":"","sources":["../../src/InMemoryStorage.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,mEAGoC;AAEpC,MAAqB,eAAgB,SAAQ,qCAAgB;IAE3D,YAAY,KAAa,EAAE,MAAiC;QAC1D,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;IACzB,CAAC;IAEK,OAAO,CAAC,CAAC;;;YACb,OAAO,MAAA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,mCAAI,IAAI,CAAC;QACnC,CAAC;KAAA;IAEK,OAAO,CAAC,CAAC,EAAE,CAAC;;YAChB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvB,CAAC;KAAA;IAEK,UAAU;;YACd,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;QAChC,CAAC;KAAA;IAEK,QAAQ,CAAC,aAAmC;;YAChD,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,aAAa,EAAE,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrB,CAAC;QACH,CAAC;KAAA;IAEK,UAAU,CAAC,GAAW;;YAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC;KAAA;CACF;AA5BD,kCA4BC","sourcesContent":["import {\n  StorageInterface,\n  StorageInterfaceStoreName,\n} from './utils/PersistedObject.js';\n\nexport default class InMemoryStorage extends StorageInterface {\n  private store: Map<string, any>;\n  constructor(appId: string, dbName: StorageInterfaceStoreName) {\n    super(appId, dbName);\n    this.store = new Map();\n  }\n\n  async getItem(k) {\n    return this.store.get(k) ?? null;\n  }\n\n  async setItem(k, v) {\n    this.store.set(k, v);\n  }\n\n  async getAllKeys(): Promise<string[]> {\n    return [...this.store.keys()];\n  }\n\n  async multiSet(keyValuePairs: Array<[string, any]>): Promise<void> {\n    for (const [k, v] of keyValuePairs) {\n      this.setItem(k, v);\n    }\n  }\n\n  async removeItem(key: string): Promise<void> {\n    this.store.delete(key);\n  }\n}\n"]}